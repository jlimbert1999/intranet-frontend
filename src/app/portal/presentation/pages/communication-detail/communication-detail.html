<div class="max-w-7xl mx-auto p-2 sm:p-4">
  <div class="w-full bg-white rounded-2xl shadow-md border border-surface-200">
    @if(communication.isLoading()){
      <div class="p-6">
        <div class="flex flex-col gap-4">
          <p-skeleton width="15rem" height="40px" />
          <p-skeleton width="100%" height="30px" />
          <p-skeleton width="30%" height="20px" />
          <p-skeleton width="100%" height="700px" />
        </div>
        <div class="flex justify-end mt-4">
          <p-skeleton width="10rem" height="2rem" />
        </div>
      </div>
    } 
    @if(!communication.isLoading() && communication.hasValue()){
      <div class="p-3 border-b border-surface-200">
        <div class="flex items-center gap-2">
          <button
            pButton
            icon="pi pi-arrow-left"
            class="p-button-rounded p-button-text text-surface-600 hover:text-primary"
            (click)="goBack()"
          ></button>
          <h1 class="text-xl md:text-2xl font-bold text-primary leading-tight">
            {{ communication.value().type.name | titlecase }}
          </h1>
        </div>
      </div>
      <div class="p-2 space-y-3">
        <div>
          <p class="text-base md:text-lg text-surface-800 leading-snug">
            {{ communication.value()?.reference }}
          </p>

          <div
            class="flex flex-wrap gap-x-4 gap-y-2 text-sm text-surface-500 mt-3"
          >
            <span
              >ðŸ“…
              {{
                communication.value()?.publicationDate | date : "longDate"
              }}</span
            >
            <span>â€¢ CÃ³digo: {{ communication.value()?.code }}</span>
          </div>
        </div>

        <!-- <div class="h-[600px] border border-surface-300 p-2 rounded-xl">
          <pdf-display [src]="communication.value().fileUrl" />
        </div> -->

        <div class="flex justify-end">
          <button
            pButton
            label="Descargar PDF"
            icon="pi pi-download"
            class="p-button-primary"
            (click)="downloadFile()"
          ></button>
        </div>
      </div>
    }
  </div>
</div>
